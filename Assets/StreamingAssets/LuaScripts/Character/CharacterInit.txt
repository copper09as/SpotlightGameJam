-- 初始化角色跳跃数据（加载配置时自动乘摄像机倍率）
function CharacterInit(entity)
    local data = entity.dataTable or {}

    -- 基础属性
    data.characterSpeed = 5                    -- 水平移动速度
    data.gravity = 10                           -- 重力加速度
    data.baseJumpHeight = 2                     -- 基础跳跃高度（初次跳跃力来源）
    data.maxJumpHeight = 2                     -- 长按空格能达到的最大高度
    data.jumpForce = 0                          -- 初始施加的跳跃力
    data.isJumping = false                      -- 是否处于跳跃上升阶段
    data.isJumpFalling = false                  -- 是否处于下落阶段
    data.jumpCut = true                         -- 是否短按跳跃提前下降
    data.jumpHangTimeThreshold = 1.0            -- 接近最高点时悬停阈值
    data.jumpCutGravityMult = 2.0               -- 短按空格增加重力倍率
    data.fallGravityMult = 2.0                  -- 正常下落重力倍率
    data.startY = 0                             -- 记录起跳位置
    data.currentHeight = 0                      -- lua 用
    data.jumpRate = 2                            -- 跳跃倍率
    data.rayLen = 0.2                           -- 检测射线长度
	data.coyoteTime = 0.2          -- 土狼时间持续秒数
	data.coyoteTimeCounter = 0     -- 当前计数
    data.defaultCamSize = 5.19                  -- 设计时摄像机 size
	data.wallRayLen = 0.1
	data.wallHitDampen = 0.2
	data.wallSlideDecay = 7       --动能损失
	--v = sqrt(2 * g * h) 
	data.jumpForce = math.sqrt(2 * data.gravity * data.baseJumpHeight)
end
